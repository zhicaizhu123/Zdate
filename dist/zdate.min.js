!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Utils=t()}(this,function(){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(t){return function(e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}}function f(e){return c[e]||e.toLowerCase()}function n(e){return e?new Date(e):new Date}function l(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}var t,r,s=e("Date"),a=e("String"),u=e("Undefined"),o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,v=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SS{1,2}/g,d={year:"setFullYear",month:"setMonth",date:"setDate",hour:"setHours",minute:"setMinutes",second:"setSeconds",millisecond:"setMilliseconds"},y=(t="日一二三四五六".split("")).length?t.reduce(function(e,t,n){return e[r&&t[r]?t[r]:n]=t,e},{}):(console.warning("传入数组为空"),null),c={y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",ms:"millisecond"},h=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._date=this.parse(e.date)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"parse",value:function(e){if(u(e))return n();if(s(e))return n(e);if(a(e)&&o.test(e)){var t=e.match(o);if(t)return new Date(t[1],t[2]-1,t[3]||1,t[4]||0,t[5]||0,t[6]||0,t[7]||0)}return n()}},{key:"format",value:function(e){function t(e,t){return 0<t?(e+"").padStart(t,"0"):e+""}var n=0<arguments.length&&void 0!==e?e:"YYYY-MM-DD HH:mm:ss",i=this.year,r=this.month,s=this.date,a=this.hour,u=this.minute,o=this.second,d=this.millisecond,c=this.week,h={YY:t(i).slice(-2),YYYY:t(i),M:t(r+1),MM:t(r+1,1),D:t(s),DD:t(s,2),d:c,dd:y[c],H:t(a),HH:t(a,2),h:t(a%12),hh:t(a%12,2),m:t(u),mm:t(u,2),s:t(o),ss:t(o,2),S:t(d),SS:t(d,2)};return n.replace(v,function(e){return h[e]||e})}},{key:"startEnd",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"start";if(!e||!this.isValid()||"millisecond"===e)return this;function i(e){return"end"===n?s.valueOf()+e-s.valueOf()%e-1:Math.floor(s.valueOf()/e)}var r,s=this._date,a=this.year,u=this.month,o=this.date,d=f(e),c="end"===n?1:0,h="end"===n?-1:0;switch(d){case"year":r=l(a+c,0,1)+h;break;case"month":r=l(a,u+c,1)+h;break;case"day":r=l(a,u,o+c)+h;break;case"hour":r=i(36e5);break;case"minute":r=i(6e4);break;case"second":r=i(1e3)}return this._date.setTime(r),this}},{key:"startOf",value:function(e){return this.startEnd(e,"start")}},{key:"endOf",value:function(e){return this.startEnd(e,"end")}},{key:"addSubtract",value:function(e,t,n){var i=f(t);this._date[d[i]](this[i]+(0<n?e:-e))}},{key:"add",value:function(e,t){return this.addSubtract(e,1<arguments.length&&void 0!==t?t:"s",1),this}},{key:"subtract",value:function(e,t){return this.addSubtract(e,1<arguments.length&&void 0!==t?t:"s",-1),this}},{key:"getTime",value:function(e){return n(this.parse(e)).getTime()}},{key:"isLeapYear",value:function(e){var t=this.parse(e).getFullYear();return t%4==0&&t%100!=0||t%400==0}},{key:"isBefore",value:function(e,t){return this.endOf(1<arguments.length&&void 0!==t?t:"s")>this.parse(e)}},{key:"isAfter",value:function(e,t){return this.startOf(1<arguments.length&&void 0!==t?t:"s")>this.parse(e)}},{key:"isSame",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"s",i=this.parse(e);return this.startOf(n)<=i&&i<=this.endOf(n)}},{key:"isBetween",value:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:"s",r=this.startOf(i),s=this.endOf(i),a=this.parse(e),u=this.parse(t);return a<=r&&s<=u||u<=r&&s<=a}},{key:"isValid",value:function(){return!(""+this._date=="Invalid Date")}},{key:"valueOf",value:function(){return this.getTime()}},{key:"year",get:function(){return this._date.getFullYear()}},{key:"month",get:function(){return this._date.getMonth()}},{key:"date",get:function(){return this._date.getDate()}},{key:"hour",get:function(){return this._date.getHours()}},{key:"minute",get:function(){return this._date.getMinutes()}},{key:"second",get:function(){return this._date.getSeconds()}},{key:"millisecond",get:function(){return this._date.getMilliseconds()}},{key:"week",get:function(){return this._date.getDay()}}]),t}();return function(e){if(e instanceof h)return e;var t={};return e&&(t.date=e),new h(t)}});
